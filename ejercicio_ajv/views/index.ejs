<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
    <h1><%= title %></h1>
    <div>
      <button id="mercedes_coche">POST DE MERCEDES PARA /coche</button>
      <button id="suzuki_coche">POST DE SUZUKI PARA /coche</button>
      <button id="mercedes_moto">POST DE MERCEDES PARA /moto</button>
      <button id="suzuki_moto">POST DE SUZUKI PARA /moto</button>
    </div>

    <script>
      document.getElementById('mercedes_coche').addEventListener('click', () => {
        // Cargar el JSON de Mercedes desde la ruta estática
        fetch('/ejemplos/mercedes.json')
          .then(response => response.json())  // Parsear el JSON
          .then(datos => {
            console.log("Datos que se envían a /coche:", datos); // Ver los datos que se envían

            return fetch('/coche', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(datos)  // Enviar los datos en el cuerpo de la solicitud
            });
          })
          .then(response => {
            if (response.ok) {
              return response.json();  // Obtener la respuesta del servidor
            }
            throw new Error('Error al enviar los datos');
          })
          .then(data => {
            console.log('Respuesta del servidor:', data);
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });

      document.getElementById('suzuki_coche').addEventListener('click', () => {
        // Cargar el JSON de Suzuki desde la ruta estática
        fetch('/ejemplos/suzuki.json')
          .then(response => response.json())  // Parsear el JSON
          .then(datos => {
            return fetch('/coche', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(datos)
            });
          })
          .then(response => {
            if (response.ok) {
              return response.json();
            }
            throw new Error('Error al enviar los datos');
          })
          .then(data => {
            console.log('Respuesta del servidor:', data);
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });

      document.getElementById('mercedes_moto').addEventListener('click', () => {
        // Cargar el JSON de Mercedes desde la ruta estática
        fetch('/ejemplos/mercedes.json')
          .then(response => response.json())  // Parsear el JSON
          .then(datos => {
            return fetch('/moto', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(datos)
            });
          })
          .then(response => {
            if (response.ok) {
              return response.json();
            }
            throw new Error('Error al enviar los datos');
          })
          .then(data => {
            console.log('Respuesta del servidor:', data);
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });

      document.getElementById('suzuki_moto').addEventListener('click', () => {
        // Cargar el JSON de Suzuki desde la ruta estática
        fetch('/ejemplos/suzuki.json')
          .then(response => response.json())  // Parsear el JSON
          .then(datos => {
            return fetch('/moto', {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
              },
              body: JSON.stringify(datos)
            });
          })
          .then(response => {
            if (response.ok) {
              return response.json();
            }
            throw new Error('Error al enviar los datos');
          })
          .then(data => {
            console.log('Respuesta del servidor:', data);
          })
          .catch(error => {
            console.error('Error:', error);
          });
      });
    </script>
  </body>
</html>
